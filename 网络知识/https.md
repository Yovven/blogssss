http是http+ssl
背景：
http是明文传输的，因此传输内容很容易被窃取。
https就是在http的基础上加一层ssl安全协议。
SSL 协议位于 TCP/IP 协议与各种应用层协议之间，为数据通讯提供安全支持。SSL 协议可分为两层：SSL 记录协议（SSL Record Protocol），它建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能的支持。SSL 握手协议（SSL Handshake Protocol），它建立在 SSL 记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。

SSL的握手过程：
1.客户端先向服务端发起握手，包括客户端支持的加密方式和一个随机数
2.服务端接收到握手请求，确认客户端的加密方式，向客户端返回CA数字证书和一个随机数。
3.客户端收到数字证书确认证书有效，并声称一个随机数，用证书中的公钥加密这个随机数，发送给服务端。
4.服务端收到加密的随机数，并用私钥解密得到随机数。
5.至上，产生了三个随机数，客户端和服务端根据约定的加密方法，加密这三个随机数，生成对话秘药，用来加密接下来的整个对话过程。

注意点：
1.在握手阶段是非对称加密，但在接下来的过程属于对称加密。
2.CA证书的公钥秘钥只在整个过程中使用一次，服务器的公钥和私钥只用于加密和解密"对话密钥"（非对称加密），无其他作用。。
3.服务器公钥放在服务器的数字证书之中。
4.的。。因此，如果有人窃听通信，他可以知道双方选择的加密方法，以及三个随机数中的两个。整个通话的安全，只取决于第三个随机数（Premaster secret）能不能被破解。

优化点：
整个握手阶段都不加密（也没法加密），都是明文的。
虽然理论上，只要服务器的公钥足够长（比如2048位），那么Premaster secret可以保证不被破解。但是为了足够安全，我们可以考虑把握手阶段的算法从默认的RSA算法，改为 Diffie-Hellman算法（简称DH算法）。

ssl中断重连：
握手阶段用来建立SSL连接。如果出于某种原因，对话中断，就需要重新握手。
这时有两种方法可以恢复原来的session：一种叫做session ID，另一种叫做session ticket。

session ID的思想很简单，就是每一次对话都有一个编号（session ID）。如果对话中断，下次重连的时候，只要客户端给出这个编号，且服务器有这个编号的记录，双方就可以重新使用已有的"对话密钥"，而不必重新生成一把。
session ID是目前所有浏览器都支持的方法，但是它的缺点在于session ID往往只保留在一台服务器上。所以，如果客户端的请求发到另一台服务器，就无法恢复对话。
session ticket就是为了解决这个问题而诞生的，目前只有Firefox和Chrome浏览器支持。
这个session ticket是加密的，只有服务器才能解密，其中包括本次对话的主要信息，比如对话密钥和加密方法。当服务器收到session ticket以后，解密后就不必重新生成对话密钥了。

但是，HTTPs链接比较慢
HTTPs链接和HTTP链接都建立在TCP协议之上。HTTP链接比较单纯，使用三个握手数据包建立连接之后，就可以发送内容数据了。
HTTP耗时 = TCP握手
HTTPs耗时 = TCP握手 + SSL握手
所以，如果是对安全性要求不高的场合，为了提高网页性能，建议不要采用保密强度很高的数字证书。一般场合下，1024位的证书已经足够了，2048位和4096位的证书将进一步延长SSL握手的耗时。